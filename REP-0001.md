```
REP: 1
Title: DNS Seeder Infrastructure for Network Discovery
Author: Radiant Core Contributors <info@radiantfoundation.org>
Status: Draft
Type: Standard
Created: 2025-12-31
License: MIT
```

## Abstract

This REP proposes the implementation of a DNS-based seeder infrastructure to improve network peer discovery for Radiant nodes. The seeder will provide reliable peer addresses for new nodes joining the network, reducing reliance on hard-coded seed nodes and improving network resilience.

## Specification

### DNS Seeder Protocol

The DNS seeder will respond to A/AAAA record queries with IPv4/IPv6 addresses of active Radiant nodes:

```
seed.radiantblockchain.org. 300 IN A 203.0.113.1
seed.radiantblockchain.org. 300 IN A 203.0.113.2
seed.radiantblockchain.org. 300 IN AAAA 2001:db8::1
```

### Node Configuration

Update `src/chainparams.cpp` to include DNS seed records:

```cpp
vSeeds.push_back(CDNSSeedData("seed.radiantblockchain.org", "seed.radiantblockchain.org"));
```

### Seeder Implementation

The seeder will:
1. Connect to the Radiant P2P network
2. Maintain a list of active peers
3. Respond to DNS queries with peer addresses
4. Rotate peer list to prevent targeting
5. Implement rate limiting to prevent abuse

### Network Parameters

- **TTL**: 300 seconds (5 minutes)
- **Max responses**: 25 peers per query
- **Update interval**: 1 minute for peer list refresh
- **Minimum uptime**: 24 hours before inclusion in DNS

## Motivation

Currently, Radiant nodes rely on hard-coded seed nodes for initial peer discovery. This approach has several limitations:

1. **Single point of failure**: If seed nodes go offline, new nodes cannot join
2. **Static configuration**: Hard-coded addresses cannot adapt to network changes
3. **Centralization**: Reliance on fixed seed nodes creates centralization risk
4. **Maintenance overhead**: Seed node addresses require manual updates

A DNS-based seeder provides dynamic, resilient peer discovery that can adapt to network conditions and reduce centralization.

## Rationale

### Why DNS Seeder?

1. **Proven Technology**: Bitcoin and other cryptocurrencies successfully use DNS seeders
2. **Low Complexity**: DNS is a well-understood, reliable protocol
3. **Caching Benefits**: DNS resolvers provide natural caching and load distribution
4. **Easy Deployment**: Standard DNS infrastructure can be used

### Alternative Approaches Considered

1. **Hard-coded seeds**: Current approach, inflexible and centralized
2. **Peer exchange (PEX)**: Requires existing network connections
3. **DHT-based discovery**: More complex, slower initial connection
4. **Bootstrap nodes**: Still requires manual maintenance

DNS seeders provide the best balance of simplicity, reliability, and decentralization.

## Backwards Compatibility

This change is fully backwards compatible:

- Existing nodes will continue to work with current seed nodes
- New nodes will benefit from improved peer discovery
- No consensus changes required
- Optional fallback to hard-coded seeds if DNS fails

## Reference Implementation

### Seeder Service

```python
# Pseudocode for DNS seeder
class RadiantDNSSeeder:
    def __init__(self):
        self.active_peers = []
        self.last_update = 0
    
    def update_peer_list(self):
        # Connect to network and discover active peers
        # Filter by uptime, version, and connectivity
        # Maintain list of reliable peers
    
    def dns_query_handler(self, query):
        # Return random subset of active peers
        # Apply rate limiting per client IP
        # Return IPv4 and IPv6 addresses
```

### Node Integration

```cpp
// In src/net.cpp
bool CConnman::ConnectToSeedNodes()
{
    // Try DNS seeds first
    if (ConnectToDNSSeeds()) {
        return true;
    }
    
    // Fallback to hard-coded seeds
    return ConnectToHardcodedSeeds();
}
```

## Security Considerations

### Potential Attack Vectors

1. **DNS Poisoning**: Mitigated by DNSSEC validation
2. **Seeder Hijacking**: Use multiple geographically distributed seeders
3. **Peer Flooding**: Rate limiting and peer quality filtering
4. **Targeting Attacks**: Rotate peer responses and use large peer pool

### Mitigation Strategies

1. **Multiple Seeders**: Deploy at least 3 independent DNS seeders
2. **DNSSEC**: Enable DNSSEC for all seeder domains
3. **Peer Validation**: Verify peers meet minimum requirements
4. **Rate Limiting**: Limit queries per client IP
5. **Monitoring**: Monitor for abuse and anomalous patterns

## Deployment Plan

### Phase 1: Infrastructure Setup
- Deploy DNS seeder infrastructure
- Configure monitoring and alerting
- Test with testnet first

### Phase 2: Mainnet Integration
- Update chain parameters for mainnet
- Deploy production DNS seeders
- Monitor network connection success rates

### Phase 3: Optimization
- Analyze seeder performance
- Optimize peer selection algorithms
- Document best practices

## Copyright

This document is licensed under the MIT License.
